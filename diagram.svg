<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1566px" height="1479px" viewBox="-0.5 -0.5 1566 1479" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2023-12-15T11:54:18.746Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&quot; etag=&quot;Gs5Y0ztz-ZXbYihY63pF&quot; version=&quot;22.1.9&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram name=&quot;Сторінка-1&quot; id=&quot;ycQdUsJSzOh00PkrEZV7&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2593&quot; dy=&quot;1723&quot; grid=&quot;0&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;0&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-11&quot; value=&quot;CoreApp&amp;lt;br&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-236&quot; y=&quot;-229&quot; width=&quot;339&quot; height=&quot;221&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-1&quot; value=&quot;DB&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-99&quot; y=&quot;102&quot; width=&quot;60&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-17&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-6&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-12&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-6&quot; value=&quot;TenatA&amp;lt;br&amp;gt;User&quot; style=&quot;shape=actor;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-200&quot; y=&quot;-394.95&quot; width=&quot;71&quot; height=&quot;82&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-16&quot; value=&quot;&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-7&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-13&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-7&quot; value=&quot;TenantB&amp;lt;br&amp;gt;User&quot; style=&quot;shape=actor;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-101&quot; y=&quot;-395.95&quot; width=&quot;58&quot; height=&quot;83&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-15&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-8&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-14&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-8&quot; value=&quot;TenantC&amp;lt;br&amp;gt;User&quot; style=&quot;shape=actor;whiteSpace=wrap;html=1;fontSize=16;rotation=-1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-9&quot; y=&quot;-400.1&quot; width=&quot;63.29&quot; height=&quot;87.15&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-23&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-9&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-19&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-9&quot; value=&quot;Admin&quot; style=&quot;shape=actor;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-386&quot; y=&quot;-164&quot; width=&quot;74&quot; height=&quot;86&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-12&quot; value=&quot;TenantA&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-225&quot; y=&quot;-206&quot; width=&quot;90&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-13&quot; value=&quot;TenantB&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-126.75&quot; y=&quot;-206&quot; width=&quot;107.75&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-14&quot; value=&quot;TenantC&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;arcSize=14;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-9&quot; y=&quot;-206&quot; width=&quot;97&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-19&quot; value=&quot;Core App&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-226.87&quot; y=&quot;-164&quot; width=&quot;308&quot; height=&quot;67&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-20&quot; value=&quot;Integration layer&amp;amp;nbsp;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-226.44&quot; y=&quot;-92&quot; width=&quot;308.87&quot; height=&quot;66&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-21&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.539;entryY=0.279;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-20&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-25&quot; value=&quot;&quot; style=&quot;shape=actor;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;435&quot; y=&quot;-432&quot; width=&quot;82&quot; height=&quot;92&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-26&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;328&quot; y=&quot;-244&quot; width=&quot;303&quot; height=&quot;370&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-33&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;fontSize=12;startSize=8;endSize=8;edgeStyle=none;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-25&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;341&quot; y=&quot;-26&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;471&quot; y=&quot;-246&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-34&quot; value=&quot;Request with UTC time&amp;amp;nbsp;&amp;lt;br&amp;gt;Or&amp;lt;br&amp;gt;Request with local time and time zone&amp;amp;nbsp;&quot; style=&quot;edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;fontSize=16;&quot; parent=&quot;MpVYVYmY2yAn-oeX6oaV-33&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-35&quot; value=&quot;Tenant middleware&amp;lt;br&amp;gt;Must take tanant name from request url (tenantName.scrubchart.ai) or tame it from header like X-Tanent&amp;lt;br&amp;gt;After check tenant in DB and init ITenant instance&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;verticalAlign=top;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;344&quot; y=&quot;-234&quot; width=&quot;273&quot; height=&quot;127&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-37&quot; value=&quot;Domaine layer&amp;amp;nbsp;&amp;lt;br&amp;gt;Will use ITenant dependency&amp;amp;nbsp;&amp;lt;br&amp;gt;To identify tenant&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;verticalAlign=top;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;344&quot; y=&quot;-97&quot; width=&quot;275&quot; height=&quot;94&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-40&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-38&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-39&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-38&quot; value=&quot;Integration layer&amp;amp;nbsp;&amp;lt;br&amp;gt;Also will use ITenant dependency (request scope) to filter all date by tenant in DB request&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fontSize=16;verticalAlign=top;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;346&quot; y=&quot;9&quot; width=&quot;272&quot; height=&quot;99&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-39&quot; value=&quot;&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;431.5&quot; y=&quot;186&quot; width=&quot;89&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-41&quot; value=&quot;&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-486&quot; y=&quot;239&quot; width=&quot;424&quot; height=&quot;598&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-42&quot; value=&quot;DB scheme&amp;amp;nbsp;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-332&quot; y=&quot;232&quot; width=&quot;106&quot; height=&quot;43&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-45&quot; value=&quot;Tenant&amp;amp;nbsp;&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-375&quot; y=&quot;280&quot; width=&quot;186&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-46&quot; value=&quot;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;ID&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Tenant Name&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Another info&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Possible time zone or time offset for tenant&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;&quot; parent=&quot;MpVYVYmY2yAn-oeX6oaV-45&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;4&quot; y=&quot;22&quot; width=&quot;178&quot; height=&quot;122&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-51&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-48&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-301.0588235294117&quot; y=&quot;427.47058823529414&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-48&quot; value=&quot;User&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-464&quot; y=&quot;481&quot; width=&quot;200&quot; height=&quot;107&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-50&quot; value=&quot;&amp;lt;ul&amp;gt;&amp;lt;li style=&amp;quot;&amp;quot;&amp;gt;ID&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;&amp;quot;&amp;gt;TenantId&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;&amp;quot;&amp;gt;User related fields&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;&quot; parent=&quot;MpVYVYmY2yAn-oeX6oaV-48&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;3&quot; y=&quot;24&quot; width=&quot;197&quot; height=&quot;84&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-55&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-52&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-50&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-56&quot; style=&quot;edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;&quot; parent=&quot;1&quot; source=&quot;MpVYVYmY2yAn-oeX6oaV-52&quot; target=&quot;MpVYVYmY2yAn-oeX6oaV-46&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-52&quot; value=&quot;Another data&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fontSize=16;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-291&quot; y=&quot;640&quot; width=&quot;200&quot; height=&quot;152&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MpVYVYmY2yAn-oeX6oaV-54&quot; value=&quot;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;ID&amp;lt;br&amp;gt;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;UserId or TenantId&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Another fields&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Timestamps in UTC&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;&quot; parent=&quot;MpVYVYmY2yAn-oeX6oaV-52&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;23&quot; width=&quot;198&quot; height=&quot;129&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;KH06_JWGASmX7duTb11c-1&quot; value=&quot;II propose to use multi-tenant architecture with one app and one DB because this schema gives such benefits:&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;easy to scale&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;All users get updates&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Also, it is possible to create separate instances for users with more security&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Easy to maintain&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Easy to add new customer&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Of course, it has disadvantages but in my opinion, this type is better for solutions with a lot of customers&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-375&quot; y=&quot;-632&quot; width=&quot;736&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;KH06_JWGASmX7duTb11c-2&quot; value=&quot;&amp;lt;div&amp;gt;To store any time I propose to use only time in the UTC timezone, and all local time zones can be handled by the user browser, in this case, we must make a contract with a frontend that all times will be in UTC format&amp;amp;nbsp;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;If the business need to save tenant timezone, we can save the timezone (offset from UTC, timezone name) in the Tenant table, but this needs more logic to handle this in the App. For this we can make a service that can convert time to tenant time, it also will use ITenant dependency to get info for time zone offset. Also, it is possible to make an additional MediatR handler to convert time to a specific time zone.&amp;amp;nbsp;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;696&quot; y=&quot;-449&quot; width=&quot;324&quot; height=&quot;205&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;KH06_JWGASmX7duTb11c-3&quot; value=&quot;&amp;lt;div&amp;gt;To work with tenants I propose to use Tenant Middleware that can authenticate tenants by URL (tenant.scrubchart.ai) or by header (X-Tenant).&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;In the middleware app can fully check the tenant in DB, and init it in ITenant.&amp;amp;nbsp;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;This ITenant will be request scoped, so in any place, we can inject this dependency for filtering or any type of operation.&amp;amp;nbsp;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;690&quot; y=&quot;-241&quot; width=&quot;389&quot; height=&quot;200&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;KH06_JWGASmX7duTb11c-4&quot; value=&quot;All tables must be related to the Tenant table, directly or via another tables&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;9&quot; y=&quot;350&quot; width=&quot;284&quot; height=&quot;107&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;KH06_JWGASmX7duTb11c-5&quot; value=&quot;For super user (which will admin all tenants) can make a separate controller with attributes ( for example SkipTenantMiddlware) that will signal&amp;amp;nbsp; for middleware to skip checks for tenant&amp;amp;nbsp;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-454&quot; y=&quot;-49&quot; width=&quot;206&quot; height=&quot;96&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;KH06_JWGASmX7duTb11c-6&quot; value=&quot;To balance tenants&amp;#39; high loads for servers we can propose the: &amp;lt;br&amp;gt;- separate instance with only one tenant &amp;lt;br&amp;gt;- implementing a balancer with API call limits or throttling&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-383&quot; y=&quot;-501&quot; width=&quot;428&quot; height=&quot;89&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><rect x="250" y="412" width="339" height="221" rx="33.15" ry="33.15" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 337px; height: 1px; padding-top: 523px; margin-left: 251px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">CoreApp<br /></div></div></div></foreignObject><text x="420" y="527" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">CoreApp&#xa;</text></switch></g><path d="M 387 758 C 387 749.72 400.43 743 417 743 C 424.96 743 432.59 744.58 438.21 747.39 C 443.84 750.21 447 754.02 447 758 L 447 808 C 447 816.28 433.57 823 417 823 C 400.43 823 387 816.28 387 808 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 447 758 C 447 766.28 433.57 773 417 773 C 400.43 773 387 766.28 387 758" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 796px; margin-left: 388px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">DB</div></div></div></foreignObject><text x="417" y="800" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">DB</text></switch></g><path d="M 317.62 328.05 Q 317.62 328.05 308.25 427.17" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 307.62 433.89 L 303.98 424.5 L 308.25 427.17 L 312.94 425.35 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 286 328.05 C 286 295.25 286 278.85 321.5 278.85 C 297.83 278.85 297.83 246.05 321.5 246.05 C 345.17 246.05 345.17 278.85 321.5 278.85 C 357 278.85 357 295.25 357 328.05 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 69px; height: 1px; padding-top: 287px; margin-left: 287px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">TenatA<br />User</div></div></div></foreignObject><text x="322" y="292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">TenatA...</text></switch></g><path d="M 413.78 328.05 Q 413.78 328.05 413.25 427.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 413.22 433.88 L 408.76 424.86 L 413.25 427.13 L 417.76 424.91 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 385 328.05 C 385 294.85 385 278.25 414 278.25 C 394.67 278.25 394.67 245.05 414 245.05 C 433.33 245.05 433.33 278.25 414 278.25 C 443 278.25 443 294.85 443 328.05 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 56px; height: 1px; padding-top: 287px; margin-left: 386px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">TenantB<br />User</div></div></div></foreignObject><text x="414" y="291" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">TenantB...</text></switch></g><path d="M 513.05 327.98 Q 513.05 327.98 523.09 427.17" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 523.77 433.89 L 518.38 425.39 L 523.09 427.17 L 527.34 424.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 477 328.05 C 477 293.19 477 275.76 508.64 275.76 C 487.55 275.76 487.55 240.9 508.64 240.9 C 529.74 240.9 529.74 275.76 508.64 275.76 C 540.29 275.76 540.29 293.19 540.29 328.05 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(-1,508.64,284.48)" pointer-events="all"/><g transform="translate(-0.5 -0.5)rotate(-1 508.645 284.4749999999999)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 61px; height: 1px; padding-top: 284px; margin-left: 478px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">TenantC<br />User</div></div></div></foreignObject><text x="509" y="289" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">TenantC...</text></switch></g><path d="M 174 518.73 Q 174 518.73 251.27 516.07" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 258.01 515.84 L 249.17 520.64 L 251.27 516.07 L 248.86 511.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 100 563 C 100 528.6 100 511.4 137 511.4 C 112.33 511.4 112.33 477 137 477 C 161.67 477 161.67 511.4 137 511.4 C 174 511.4 174 528.6 174 563 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 72px; height: 1px; padding-top: 520px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Admin</div></div></div></foreignObject><text x="137" y="525" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Admin</text></switch></g><rect x="261" y="435" width="90" height="32" rx="4.8" ry="4.8" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 451px; margin-left: 262px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">TenantA</div></div></div></foreignObject><text x="306" y="456" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">TenantA</text></switch></g><rect x="359.25" y="435" width="107.75" height="32" rx="4.8" ry="4.8" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 106px; height: 1px; padding-top: 451px; margin-left: 360px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">TenantB</div></div></div></foreignObject><text x="413" y="456" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">TenantB</text></switch></g><rect x="477" y="435" width="97" height="32" rx="4.48" ry="4.48" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 95px; height: 1px; padding-top: 451px; margin-left: 478px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">TenantC</div></div></div></foreignObject><text x="526" y="456" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">TenantC</text></switch></g><rect x="259.13" y="477" width="308" height="67" rx="10.05" ry="10.05" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 306px; height: 1px; padding-top: 511px; margin-left: 260px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Core App</div></div></div></foreignObject><text x="413" y="515" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Core App</text></switch></g><rect x="259.56" y="549" width="308.87" height="66" rx="9.9" ry="9.9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 307px; height: 1px; padding-top: 582px; margin-left: 261px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Integration layer </div></div></div></foreignObject><text x="414" y="587" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Integration layer </text></switch></g><path d="M 414.96 615 Q 414.96 615 419.11 757.46" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 419.31 764.2 L 414.55 755.34 L 419.11 757.46 L 423.54 755.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 921 301 C 921 264.2 921 245.8 962 245.8 C 934.67 245.8 934.67 209 962 209 C 989.33 209 989.33 245.8 962 245.8 C 1003 245.8 1003 264.2 1003 301 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="814" y="397" width="303" height="370" rx="45.45" ry="45.45" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 962 301 Q 962 301 957.42 387.14" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 957.06 393.88 L 953.04 384.66 L 957.42 387.14 L 962.03 385.14 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 349px; margin-left: 960px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Request with UTC time <br />Or<br />Request with local time and time zone </div></div></div></foreignObject><text x="960" y="354" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Request with UTC time...</text></switch></g><rect x="830" y="407" width="273" height="127" rx="19.05" ry="19.05" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 271px; height: 1px; padding-top: 414px; margin-left: 831px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Tenant middleware<br />Must take tanant name from request url (tenantName.scrubchart.ai) or tame it from header like X-Tanent<br />After check tenant in DB and init ITenant instance</div></div></div></foreignObject><text x="966" y="430" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Tenant middleware...</text></switch></g><rect x="830" y="544" width="275" height="94" rx="14.1" ry="14.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 273px; height: 1px; padding-top: 551px; margin-left: 831px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Domaine layer <br />Will use ITenant dependency <br />To identify tenant</div></div></div></foreignObject><text x="967" y="567" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Domaine layer...</text></switch></g><path d="M 966.37 749 Q 966.37 749 964.07 819.14" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 963.84 825.88 L 959.64 816.74 L 964.07 819.14 L 968.64 817.04 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="832" y="650" width="272" height="99" rx="14.85" ry="14.85" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 270px; height: 1px; padding-top: 657px; margin-left: 833px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Integration layer <br />Also will use ITenant dependency (request scope) to filter all date by tenant in DB request</div></div></div></foreignObject><text x="968" y="673" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">Integration layer...</text></switch></g><path d="M 917.5 842 C 917.5 833.72 937.42 827 962 827 C 973.8 827 985.12 828.58 993.47 831.39 C 1001.81 834.21 1006.5 838.02 1006.5 842 L 1006.5 922 C 1006.5 930.28 986.58 937 962 937 C 937.42 937 917.5 930.28 917.5 922 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1006.5 842 C 1006.5 850.28 986.58 857 962 857 C 937.42 857 917.5 850.28 917.5 842" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 895 C 0 886.72 94.92 880 212 880 C 268.23 880 322.15 881.58 361.91 884.39 C 401.66 887.21 424 891.02 424 895 L 424 1463 C 424 1471.28 329.08 1478 212 1478 C 94.92 1478 0 1471.28 0 1463 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 424 895 C 424 903.28 329.08 910 212 910 C 94.92 910 0 903.28 0 895" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="154" y="873" width="106" height="43" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 104px; height: 1px; padding-top: 895px; margin-left: 155px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">DB scheme </div></div></div></foreignObject><text x="207" y="899" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">DB scheme </text></switch></g><path d="M 111 944 L 111 921 L 297 921 L 297 944" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 111 944 L 111 1071 L 297 1071 L 297 944" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 111 944 L 297 944" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 933px; margin-left: 112px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Tenant </div></div></div></foreignObject><text x="204" y="937" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle" font-weight="bold">Tenant </text></switch></g><rect x="115" y="943" width="178" height="122" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 176px; height: 1px; padding-top: 1004px; margin-left: 117px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><ul><li>ID</li><li>Tenant Name</li><li>Another info</li><li>Possible time zone or time offset for tenant</li></ul></div></div></div></div></foreignObject><text x="117" y="1009" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">IDTenant NameAnother i...</text></switch></g><path d="M 153.46 1122 Q 153.46 1122 180.95 1075.25" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 184.37 1069.43 L 183.69 1079.47 L 180.95 1075.25 L 175.93 1074.91 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 22 1145 L 22 1122 L 222 1122 L 222 1145" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 22 1145 L 22 1229 L 222 1229 L 222 1145" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 22 1145 L 222 1145" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1134px; margin-left: 23px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">User</div></div></div></foreignObject><text x="122" y="1138" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle" font-weight="bold">User</text></switch></g><rect x="25" y="1146" width="197" height="84" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 195px; height: 1px; padding-top: 1188px; margin-left: 27px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><ul><li style="">ID</li><li style="">TenantId</li><li style="">User related fields</li></ul></div></div></div></foreignObject><text x="27" y="1193" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">IDTenantIdUser related fi...</text></switch></g><path d="M 217.88 1281 Q 217.88 1281 171.73 1235.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 166.92 1230.78 L 176.49 1233.9 L 171.73 1235.52 L 170.17 1240.31 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 282.9 1281 Q 282.9 1281 249.74 1072.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.68 1066.1 L 254.54 1074.28 L 249.74 1072.77 L 245.65 1075.7 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 195 1304 L 195 1281 L 395 1281 L 395 1304" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 195 1304 L 195 1433 L 395 1433 L 395 1304" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 195 1304 L 395 1304" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1293px; margin-left: 196px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Another data</div></div></div></foreignObject><text x="295" y="1297" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle" font-weight="bold">Another data</text></switch></g><rect x="195" y="1304" width="198" height="129" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 196px; height: 1px; padding-top: 1369px; margin-left: 197px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><ul><li>ID<br /></li><li>UserId or TenantId</li><li>Another fields</li><li>Timestamps in UTC</li></ul></div></div></div></foreignObject><text x="197" y="1373" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">ID...</text></switch></g><rect x="111" y="9" width="736" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 734px; height: 1px; padding-top: 69px; margin-left: 113px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">II propose to use multi-tenant architecture with one app and one DB because this schema gives such benefits:<div><ul><li>easy to scale</li><li>All users get updates</li><li>Also, it is possible to create separate instances for users with more security</li><li>Easy to maintain</li><li>Easy to add new customer</li></ul></div><div>Of course, it has disadvantages but in my opinion, this type is better for solutions with a lot of customers</div><div style=""><br /></div></div></div></div></foreignObject><text x="113" y="73" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">II propose to use multi-tenant architecture with one app and one DB because this schema gives such benefits:...</text></switch></g><rect x="1182" y="192" width="324" height="205" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 322px; height: 1px; padding-top: 295px; margin-left: 1184px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>To store any time I propose to use only time in the UTC timezone, and all local time zones can be handled by the user browser, in this case, we must make a contract with a frontend that all times will be in UTC format </div><div><br /></div><div>If the business need to save tenant timezone, we can save the timezone (offset from UTC, timezone name) in the Tenant table, but this needs more logic to handle this in the App. For this we can make a service that can convert time to tenant time, it also will use ITenant dependency to get info for time zone offset. Also, it is possible to make an additional MediatR handler to convert time to a specific time zone. </div></div></div></div></foreignObject><text x="1184" y="298" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">To store any time I propose to use only time in the UT...</text></switch></g><rect x="1176" y="400" width="389" height="200" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 387px; height: 1px; padding-top: 500px; margin-left: 1178px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>To work with tenants I propose to use Tenant Middleware that can authenticate tenants by URL (tenant.scrubchart.ai) or by header (X-Tenant).</div><div>In the middleware app can fully check the tenant in DB, and init it in ITenant. </div><div style="">This ITenant will be request scoped, so in any place, we can inject this dependency for filtering or any type of operation. </div></div></div></div></foreignObject><text x="1178" y="504" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">To work with tenants I propose to use Tenant Middleware that can...</text></switch></g><rect x="495" y="991" width="284" height="107" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 282px; height: 1px; padding-top: 1045px; margin-left: 497px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">All tables must be related to the Tenant table, directly or via another tables</div></div></div></foreignObject><text x="497" y="1048" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">All tables must be related to the Tenant table,...</text></switch></g><rect x="32" y="592" width="206" height="96" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 204px; height: 1px; padding-top: 640px; margin-left: 34px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">For super user (which will admin all tenants) can make a separate controller with attributes ( for example SkipTenantMiddlware) that will signal  for middleware to skip checks for tenant </div></div></div></foreignObject><text x="34" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">For super user (which will admin a...</text></switch></g><rect x="103" y="140" width="428" height="89" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 426px; height: 1px; padding-top: 185px; margin-left: 105px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">To balance tenants' high loads for servers we can propose the: <br />- separate instance with only one tenant <br />- implementing a balancer with API call limits or throttling</div></div></div></foreignObject><text x="105" y="188" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">To balance tenants' high loads for servers we can propose the:...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>